# =============================================================================
# ComicWise Environment Variables
# Complete documentation: .env.md | Copy to .env.local for development
# Version: 2.0 | Last Updated: February 1, 2026
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE (Required)
# Docs: https://www.postgresql.org/docs/current/libpq-envars.html
# Neon Docs: https://neon.tech/docs/connect/connect-from-any-app
# -----------------------------------------------------------------------------
DATABASE_URL="postgresql://user:password@localhost:5432/comicwise"
NEON_DATABASE_URL="postgresql://user:password@ep-xyz.neon.tech/comicwise?sslmode=require"

# -----------------------------------------------------------------------------
# AUTHENTICATION (Required)
# NextAuth Docs: https://authjs.dev/getting-started/installation
# -----------------------------------------------------------------------------
AUTH_SECRET="generate-with-openssl-rand-base64-32-minimum-32-chars"
AUTH_TRUST_HOST="true"  # Enable in production behind proxy

# Google OAuth - Docs: https://console.cloud.google.com/apis/credentials
# Setup Guide: See .env.md "Authentication > Google OAuth Setup"
GOOGLE_CLIENT_ID="your-app.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-secret-from-google-console"

# GitHub OAuth - Docs: https://github.com/settings/developers
# Setup Guide: See .env.md "Authentication > GitHub OAuth Setup"
GITHUB_CLIENT_ID="your-github-oauth-app-id"
GITHUB_CLIENT_SECRET="your-github-oauth-app-secret"

# -----------------------------------------------------------------------------
# CACHING - Redis (Production Recommended)
# Upstash Docs: https://upstash.com/docs/redis/overall/getstarted
# Local Redis: https://redis.io/docs/getting-started/
# -----------------------------------------------------------------------------
# Option 1: Upstash Redis (Serverless, recommended for Vercel)
UPSTASH_REDIS_REST_URL="https://your-redis.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-upstash-token"

# Option 2: Local/Cloud Redis
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD=""  # Leave empty for local dev
REDIS_DB="0"

# -----------------------------------------------------------------------------
# IMAGE STORAGE (Required for uploads)
# ImageKit Docs: https://imagekit.io/dashboard/developer/api-keys
# -----------------------------------------------------------------------------
IMAGEKIT_PUBLIC_KEY="public_your-imagekit-public-key"
IMAGEKIT_PRIVATE_KEY="private_your-imagekit-private-key"
IMAGEKIT_URL_ENDPOINT="https://ik.imagekit.io/your-id"

# Cloudinary (Alternative) - Docs: https://cloudinary.com/documentation
CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="your-api-key"
CLOUDINARY_API_SECRET="your-api-secret"

# AWS S3 (Alternative) - Docs: https://docs.aws.amazon.com/sdk-for-javascript/
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="comicwise-uploads"

# -----------------------------------------------------------------------------
# ERROR TRACKING & MONITORING (Production Recommended)
# Sentry Docs: https://docs.sentry.io/platforms/javascript/guides/nextjs/
# Setup Guide: See .env.md "Monitoring > Sentry Setup"
# -----------------------------------------------------------------------------
SENTRY_DSN="https://your-key@o123456.ingest.sentry.io/123456"
SENTRY_ORG="your-org-slug"
SENTRY_PROJECT="comicwise"
SENTRY_AUTH_TOKEN="your-sentry-auth-token"

# Sentry Configuration
NEXT_PUBLIC_SENTRY_DSN="$SENTRY_DSN"
SENTRY_IGNORE_API_RESOLUTION_ERROR="1"
SENTRY_UPLOAD_DRY_RUN="false"  # Set true to skip uploads in dev

# Performance Monitoring
SENTRY_TRACES_SAMPLE_RATE="0.1"  # 10% of transactions
SENTRY_REPLAYS_SESSION_SAMPLE_RATE="0.1"
SENTRY_REPLAYS_ON_ERROR_SAMPLE_RATE="1.0"

# -----------------------------------------------------------------------------
# EMAIL (Transactional emails for auth, notifications)
# Resend Docs: https://resend.com/docs/send-with-nextjs
# -----------------------------------------------------------------------------
RESEND_API_KEY="re_your-resend-api-key"
EMAIL_FROM="ComicWise <noreply@comicwise.app>"

# SMTP (Alternative) - Generic SMTP server
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-specific-password"

# -----------------------------------------------------------------------------
# PAYMENTS (Optional - if implementing subscriptions/purchases)
# Stripe Docs: https://stripe.com/docs/keys
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_PUBLISHABLE_KEY="pk_test_your-stripe-publishable-key"
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="$STRIPE_PUBLISHABLE_KEY"

# -----------------------------------------------------------------------------
# SEEDING & DEVELOPMENT
# -----------------------------------------------------------------------------
CUSTOM_PASSWORD="SecurePassword123!"  # Default password for seeded users
SEED_MAX_IMAGE_SIZE_BYTES="5242880"  # 5MB default
NODE_ENV="development"  # development | production | test

# -----------------------------------------------------------------------------
# APPLICATION URLs
# -----------------------------------------------------------------------------
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_API_URL="http://localhost:3000/api"
NEXTAUTH_URL="http://localhost:3000"

# Production (set in Vercel/deployment platform):
# NEXT_PUBLIC_APP_URL="https://comicwise.app"
# NEXT_PUBLIC_API_URL="https://comicwise.app/api"
# NEXTAUTH_URL="https://comicwise.app"

# -----------------------------------------------------------------------------
# ANALYTICS (Optional)
# Google Analytics: https://analytics.google.com/
# Vercel Analytics: https://vercel.com/docs/analytics
# -----------------------------------------------------------------------------
NEXT_PUBLIC_GA_MEASUREMENT_ID="G-XXXXXXXXXX"
VERCEL_ANALYTICS_ID="your-vercel-analytics-id"

# -----------------------------------------------------------------------------
# FEATURE FLAGS (Development)
# -----------------------------------------------------------------------------
ENABLE_EXPERIMENTAL_FEATURES="false"
ENABLE_ADMIN_PANEL="true"
ENABLE_SEEDING_UI="true"  # /dev/seed route

# -----------------------------------------------------------------------------
# PERFORMANCE & CACHING
# -----------------------------------------------------------------------------
ENABLE_REDIS_CACHE="true"
CACHE_TTL_SECONDS="3600"  # 1 hour default
IMAGE_CACHE_MAX_AGE="31536000"  # 1 year for static images

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
RATE_LIMIT_MAX_REQUESTS="100"  # Per 15 minutes per IP
RATE_LIMIT_WINDOW_MS="900000"  # 15 minutes
BCRYPT_ROUNDS="12"  # Password hashing cost (10-12 recommended)

# -----------------------------------------------------------------------------
# BUILD & DEPLOYMENT (Vercel)
# Vercel Docs: https://vercel.com/docs/environment-variables
# -----------------------------------------------------------------------------
VERCEL_TOKEN="your-vercel-deployment-token"
VERCEL_ORG_ID="team_your-org-id"
VERCEL_PROJECT_ID="prj_your-project-id"
VERCEL_ENV="development"  # development | preview | production

# -----------------------------------------------------------------------------
# TESTING (E2E Tests)
# Playwright Docs: https://playwright.dev/docs/test-configuration
# -----------------------------------------------------------------------------
PLAYWRIGHT_TEST_BASE_URL="http://localhost:3000"
TEST_DATABASE_URL="postgresql://test:test@localhost:5432/comicwise_test"
TEST_ADMIN_EMAIL="admin@test.com"
TEST_ADMIN_PASSWORD="TestPassword123!"

# =============================================================================
# QUICK SETUP GUIDE
# =============================================================================
# 1. Copy this file: cp .env.template .env.local
# 2. Fill in REQUIRED variables (Database, Auth, ImageKit)
# 3. Validate: pnpm validate:env
# 4. Start dev server: pnpm dev
#
# For production deployment, see: .env.md (comprehensive guide)
# =============================================================================
